## Testing

### Testing User Stories

#### As a visitor, I would like to browse ukiyo-e paintings, so that I can see if any appeal to me.

-   Go to the website homepage.
-   Click the “Shop Now” button

<img src="media/images/user_story_testing/homepage_shop_now.JPG">

-   All Products will then appear.

<img src="media/images/user_story_testing/all_products.jpg">

-   Hover over each image to view the product title and artist name.
-   Click the product title or the artist name to see further information on either.

<img src="media/images/user_story_testing/product_hover.JPG">

-   Use the sort bar to sort depending on your preferences.

<img src="media/images/user_story_testing/sort_products.JPG">


#### As a visitor, I would like to read information on individual paintings, so that I can  discover more about the piece.

-   Further information can be discovered by going to the individual product page.
-   This can be don’t by hovering over the desired product as below.

<img src="media/images/user_story_testing/product_hover.JPG">

-   Then by Selecting the product title.

<img src="media/images/user_story_testing/product_hover_title.JPG">

-   This will bring you to the product detail page.
-   Product information such as title, price, Artist, Period, Medium and Dimensions can be found to the right of the image.
-   Additionally any futher information to external links can be found under the Further information heading.
<img src="media/images/user_story_testing/product_detail.JPG">


#### As a visitor, I would like to browse through a specifics artists paintings, so that I can see if any appeal to me.

-   Specific artists paintings can be accessed by clicking the artist name on the product like below.

<img src="media/images/user_story_testing/product_artist.JPG">

-   Or Alternatively by going to the artists page below and click on the desired artists name.

<img src="media/images/user_story_testing/all_artists.JPG">

-   This will take you to the artists page, which is decorated with one of the artwork in the background.
-   Artists details such are their nationality, period, medium user and any external links can be found as below.

<img src="media/images/user_story_testing/artist_detail_info.JPG">

-   The user can scroll down to all products being sold by this artist which can be accessed in a similar manner to the all product page
-   Additionally, by scrolling down further, similar artists can be found at the bottom of the page.

<img src="media/images/user_story_testing/artist_detail_artists.JPG">


#### As a visitor, I would like to search by keywords, so that I can discover paintings depending on my specific tastes.

-   The visitor can navigate to the search bar in the navbar as per photo below at any time.

<img src="media/images/user_story_testing/searchbar.JPG">

-   The user can then enter information relating to the product, such as title, artist or further information and click the search icon.

<img src="media/images/user_story_testing/searchterm.JPG">

-   All products relating to this term will then appear on the next page.

<img src="media/images/user_story_testing/searchresults.JPG">


#### As a visitor, I would like to add items to my basket and purchase, so that I can enjoy the prints in real life.

-   When the visitor sees a product they like, they can navigate to the products detail page by Selecting the product title.

<img src="media/images/user_story_testing/product_hover_title.JPG">

-   Below the product information, the user can select the quantity needed and click the “Add to bag Button”

<img src="media/images/user_story_testing/add_to_bag.JPG">

-   The user can then click the bag icon or the “Go to Secure checkout” in the top right hand corner.

<img src="media/images/user_story_testing/go_to_bag.JPG">

-   This will bring the visitor to the shopping bag, once the user reviews their purchase, they can select the “Secure checkout” button to make the payment.

<img src="media/images/user_story_testing/shopping_bag.JPG">

-   The user will now be taken to the checkout page where they can enter their payment information to the form as below.

<img src="media/images/user_story_testing/checkout.JPG">

-   Once verified they will be taken to a page stating the checkout is successful.

<img src="media/images/user_story_testing/checkout_success.JPG">

-   Additionally they will receive a verification email sent to the entered email like below.

<img src="media/images/user_story_testing/confirm_email.JPG">


#### As a visitor, I would like to create an account, so that I can keep track of my purchases and activity.

-   Users can create an account by selecting the “My Account” icon in the top right-hand side of the navbar.
-   They can select an account by clicking “register” from the drop down.

<img src="media/images/user_story_testing/register.JPG">

-   This will take them to the sign up page where they can email their details and click sign-up

<img src="media/images/user_story_testing/sign_up.JPG">

-   They will then be prompted to check their email in order to verify their account.

<img src="media/images/user_story_testing/verify_email_address.JPG">

-   Once they check their email, they should find an email with a URL which can be used to verify their address.

<img src="media/images/user_story_testing/verify_email.JPG">

-   Once they go to this URL, they can select “Confirm” and their account will now be activated.

<img src="media/images/user_story_testing/confirm_email_address.JPG">

-   Once logged in the user can navigate to the “My profile” page at the top right hand corner.

<img src="media/images/user_story_testing/my_profile.JPG">

-   This will take them to a page where they can change their delivery information and view their order history.

<img src="media/images/user_story_testing/my_profile_page.JPG">


#### As a store owner, I would like to add products where needed to allow for the most up to date information and products are supplied for sale.

-   Once a store owner has been granted superuser status, they can add products like so.
-   Click my account icon on the right hand of the navbar and then select “Product Management”

<img src="media/images/user_story_testing/product_mgmt.JPG">

-   This will take the store owner to a form where they can enter any information they have to add a product like below.

<img src="media/images/user_story_testing/ add_a_product.JPG">

-   Once, all relevant information and the image is uploaded, the store owner can click the “Add Product” button.

<img src="media/images/user_story_testing/ confirm_add_product.JPG">

-   They will then be taken to the products detail page and confirmation message will appear in the top right hand corner.

<img src="media/images/user_story_testing/add_product_success.JPG">


#### As a store owner, I would like to edit products where needed to allow for the most up to date information and products are supplied for sale.

-   The store owner edit by selecting the pencil icon from the products page.

<img src="media/images/user_story_testing/ product_hover_edit.JPG">

-   Or alternatively, they can do this within the product detail page by clicking “Edit”

<img src="media/images/user_story_testing/product_detail_edit.JPG">

-   This will take them to a form similar to the add product one when the store owner can makes their changes and select “Update Product”

<img src="media/images/user_story_testing/ update_product.JPG">

-   They will then be redirected to the products detail page where they can see the changes and confirmation.

<img src="media/images/user_story_testing/ updated_product.JPG">


#### As a store owner, I would like to delete products where needed to allow for the most up to date information and products are supplied for sale.

-   The store owner can delete by selecting the trash icon from the products page.

<img src="media/images/user_story_testing/ product_hover_delete.JPG">

-   Or alternatively, they can do this within the product detail page by clicking “Delete”

<img src="media/images/user_story_testing/product_detail_delete.JPG">

-   When they select either of these buttons, they will be promted with the below message.

<img src="media/images/user_story_testing/delete_prompt.JPG">

-   Once they confirm this, they will beredirected to the products page with a confirmation message in the top right hand corner.

<img src="media/images/user_story_testing/deleted_product.JPG">


### Browsers

Tested and working consistently on the below browsers for desktop.

-   Google Chrome
-   Microsoft Edge
-   Firefox

-   Mobile version manually tested throughout using google chrome on One Plus 9.
-   Tested on below screen sizes using Google Chrome developer tools.

    -   Moto G4
    -   Galaxy S5
    -   Pixel 2
    -   Pixel 2 XL
    -   iPhone 5/SE
    -   iPhone 6/7/8
    -   iPhone 6/7/8 Plus
    -   iPhone X
    -   iPad
    -   iPad Pro
    -   Surface Duo
    -   Galaxy Fold

-   The project passed the below validation tests. Please see below links to view validation screenshot.

  - W3 HTML Validator: https://validator.w3.org/
    - Validation was complete by using "View Page Source" option in chrome to avoid false error flagging from Jinja templating language

   - <a href="media/images/validation_tests/about.JPG" target="_blank">About Validator success</a>
   - <a href="media/images/validation_tests/artist_detail.JPG" target="_blank">aritst_detail Validator success</a>
   - <a href="media/images/validation_tests/artists.JPG" target="_blank">artists Validator success</a>
   - <a href="media/images/validation_tests/bag.JPG" target="_blank">bag Validator success</a>
   - <a href="media/images/validation_tests/checkout_success.JPG" target="_blank">checkout_success Validator success</a>
   - <a href="media/images/validation_tests/checkout.JPG" target="_blank">checkout Validator success</a>
   - <a href="media/images/validation_tests/home.JPG" target="_blank">home Validator success</a>
   - <a href="media/images/validation_tests/myprofile.JPG" target="_blank">myprofile Validator success</a>
   - <a href="media/images/validation_tests/product_detail.JPG" target="_blank">product_detail Validator success</a>
   - <a href="media/images/validation_tests/products.JPG" target="_blank">products Validator success</a>

  - Jigsaw CSS Validator: https://validator.w3.org/
   - <a href="media/images/validation_tests/css-validator.JPG" target="_blank">CSS Validator success</a>

-   js hint gitpod extension highlights no JS errors
-   All python code used is PEP8 compliant as per http://pep8online.com/ validator.


### Known bugs and issues

-	Image loading speed
    -   With a site contianing so many products and detail image quality, the loading speed does take some time to render. I have tried to reduce this by resizing all the images to reduce to improve on the loading time however on the all products page, it still takes some time to load.
-	Fit text to image on low height images
    -   Their was a issue with the product overlay on hover, when the product details appear. For images with low height this caused an overflow of
    the text which was either invisible or overflowed onto the other products. To fix this, I addded a JavaScript funciton to run once the page is loaded.
    This is to ensure the funciton has the opportunity to calculate the height. There is a period of time when images are loading before this can be applied to the all products
- Quantity button in Shopping bag.
    -   Scenarios
        -   Loaded to 1 or 99
        -   Clicked to 1 or 99
        -   Typed to 1 or 99
        -   Typed <1 or >99 and submitted
    -   I have tested the Quantity button extensively on both the product detail page and the shopping bag page.
    -   For the product detail page, it works perfect on mobile and desktop for all 4 scenarios above
    -   For the shopping bag page this works for all scenarios except for when a number less than 0 or greater than 99 is typed and entered.
        The reason for this is that the update button is triggered by an anchor outside of the form so form validation does not occur like it does on the product detail    page. The approach I have taken for this is to implement my own form validation as an alert which I previously did, howveer after some testing, further issues occured when several items were in the shopping bag. I plan to fix this issue at a later stage when I have more time.

### Security Testing
I conducted security testign by attempting to access the below links for logged out users.
The results are as intended and as per the below table. When these URLs were attempted to be accessed by a logged
out user, they were always redirected to the sign in page. For normal logged in users, they could access the Profile page only.
When they attempted to access the add, edit and delete page they recieved an error stating only store owners could do this.
And finally for Super users they could access all 4 of the URLS.

| Page          | Logged Out    | Normal User   | Super User    |
| ------------- | ------------- | ------------- |-------------  |
| Profile       | Sign-in Page  |  Accessed     |  Accessed     |
| add           | Sign-in Page  | Error message |  Accessed     |
| edit          | Sign-in Page  | Error message |  Accessed     |
| delete        | Sign-in Page  | Error message |  Accessed     |


Profile: https://ms4-ukiyo-e.herokuapp.com/profile/

superuser only
add: https://ms4-ukiyo-e.herokuapp.com/products/add/
edit: https://ms4-ukiyo-e.herokuapp.com/products/edit/36461/
delete: https://ms4-ukiyo-e.herokuapp.com/products/delete/73588/